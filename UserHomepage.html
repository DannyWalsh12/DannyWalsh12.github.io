<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <style>

    </style>

    <script>
        function createTask() {
            var taskData ={
                "servicePath" : "/task/createTasks",
                "serviceRequest" : JSON.stringify({
                    "taskTitle" : document.getElementById("taskTitle").value,
                    "taskDecrip" : document.getElementById("taskDescrip").value,
                    "userId" : 6, // TODO: find out how to get session id in JSON
                    "listId" : 1 // TODO: Find what listId is being used and use it instead
                })
            };

            console.log("Sending create Tasks: " + JSON.stringify(taskData));

            $.ajax({
                url: "http://astralqueen.bw.edu/~dwalsh12/testProject/trello-2.0/webServices/services.php",
                type: 'post',
                data: taskData,
                error: function(XMLHttpRequest, textStatus, errorThrown){
                    console.log("Error occurred, please try again!" + XMLHttpRequest.status);
                },
                success: function(data) {
                    // Debugging - Uncomment to check data you received
                    console.log("Received response: " + data);

                    // Parse data into response object
                    var response = JSON.parse(data);

                    // Set auth status
                    document.getElementById("taskResponse").innerHTML = response.TaskResponse;

                }
            });

        }


// TODO: Align the div "AllTasks" to work with multiple divs holding multiple tasks
// TODO: Pretty it up
    </script>
    <meta charset="UTF-8">
    <title>Welcome *User*</title> <-- // TODO: make it get the username ?-->>
</head>
<body>
Please enter the Task Title:
<input type="text" id="taskTitle"/>
<input type="text" id="taskDescrip" />
<button onclick="createTask()">Create Task</button>
<div id="taskResponse">
</div>


<div id="AllTasks">
</div>

</body>
</html>