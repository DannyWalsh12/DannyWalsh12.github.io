<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        function createUser() {
            var userData ={
                "servicePath": "/security/createUser",
                "serviceRequest" : JSON.stringify({
                    "username" : document.getElementById("createUsername").value,
                    "Password" : document.getElementById("createPassword").value,
                    "Email" : document.getElementById("createEmail").value,
                    "Verification" : document.getElementById("createVerification").value
                })
            };

            $.ajax({
                url: "http://astralqueen.bw.edu/~dwalsh12/testProject/trello-2.0/webServices/services.php",
                type: 'post',
                data: userData,
                error: function(XMLHttpRequest, textStatus, errorThrown){
                    console.log("Error occurred, please try again!" + XMLHttpRequest.status);
                },
                success: function(data) {
                    // Debugging - Uncomment to check data you received
                    console.log("Received response: " + data);

                    var response = JSON.parse(data);

                    if(response.createUser){
                        location.href = "login.html";
                    }
                    else{
                        alert("Failed to create user account");
                    }

                }
            });

        }
        // TODO: Make it more user friendly and appealing
    </script>

    <meta charset="UTF-8">
    <title>Trello 2.0</title>
</head>
<body>
    <h3>Create an Account:</h3>
    Username:
    <input type="text" id="createUsername"/>
    <br />
    Password:
    <input type="password" id="createPassword" />
    <br />
    Email:
    <input type="text" id="createEmail" />
    <br />
    Verification Code:
    <input type="text" id="createVerification" />
    <button onclick="createUser()">Create User</button>

    <br />
    <div id="CreateUserResponse">
    </div>
</body>
</html>